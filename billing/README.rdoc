= Billing

This project rocks and uses MIT-LICENSE.

The gem leap_web_billing will need to be included in whatever environment you are running, and billing will also need to be included in the configuration for that environment. You can set billing to be included in config/defaults.yml, by making sure the payment key is set to an array including billing (by default it will be set for the test environment, so you can look at that.)

To set up your own Braintree Sandbox, create an account at:
https://www.braintreepayments.com/get-started

Login to the Braintree Sandbox.
In the top right, navigate to your username, and then 'My User' -> 'API Keys'

Click the button to generate a new API key, and then click the 'View' link to the right of the key.

There is a section to copy a snippet of code. The simplest way to get this working is to select 'Ruby' in the dropdown, and then the button to the right to copy this code to your clipboard, and then paste the contents of the clipboard into billing/config/initializers/braintree.rb
However, you should not check the private key into version control, so you should not check in this file.
The better way to do this is to leave billing/config/initializers/braintree.rb as is, and instead set the braintree variables for the appropriate environment in config/config.yml, which is excluded from version control.

Now, you should be able to add charges to your own Sandbox when you run the webapp locally.

You also will want to add a Plan to your Sandbox. Within the Braintree Sandbox, navigate to 'Recurring Billing' -> 'Plans'. From here, you can add a new Plan. The values of the test plan are not important, but the ID will be displayed, so should pick something descriptive. 

Here are credit cared numbers to try in the Sandbox:

https://www.braintreepayments.com/docs/ruby/reference/sandbox